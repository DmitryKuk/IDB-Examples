# IDB-Examples
#### Рекомендации по работе с константами
---

Если жизнь сложилась так, что вы вынуждены использовать константы:
- Вы пишете какую-то математическую формулу, где константы, по сути, её часть:
	+ Всё хорошо. Вам можно. Но подумайте ещё раз: например, вместо Пи можно использовать `M_PI`, а не писать `3.14...`.
- Вы пишете нечто, где константы просто почему-то вам нужны:
	+ Если совсем надо, стоит оставить комментарий, поясняющий, что эти константа взялись не с потолка.
	+ Если надо не совсем, см. следующий пункт.
- Вы пишете код, в котором константа повторяется (причём это не равные константы, а именно одна и та же по *физическому* смыслу):
	+ Вводите константные переменные:
		* Хотя бы: `const double pi = 3.14;`
		* Ещё лучше: `constexpr double pi = 3.14;`
			- `constexpr` позволит компилятору делать некоторые дополнительные оптимизации, а вам -- использовать переменную в качестве шаблонного параметра (если она целочисленная) и пользоваться некоторыми другими бонусами времени компиляции
	+ **Не используйте #define!**
		* Да, это всё ещё легально.
		* Да, так делают ваши старшие товарищи-программисты.
		* Да, даже `M_PI` -- именно такая дрянь.
		* Но при использовании `constexpr` (или хотя бы `const`) переменной вы можете контролировать тип этой константы (это бывает важно), а при `#define` -- нет.
		* Возможно, вам когда-нибудь понадобится взять ссылку или указатель на эту переменную. С `#define` это просто невозможно.
		* Просто не используйте, и всё.

---
Дмитрий Куковинец <d1021976@gmail.com>, 19.10.2016, 15:42
